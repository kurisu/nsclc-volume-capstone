type: task
name: nnunet-predict
python: 3.10
resources:
  gpu: A100:1
volumes:
  - name: research-workspace
    path: /workspace
working_dir: /workspace/capstone
repos:
  - .
env:
  - nnUNet_raw=/workspace/capstone/data/nnunet/nnUNet_raw
  - nnUNet_preprocessed=/workspace/capstone/data/nnunet/nnUNet_preprocessed
  - nnUNet_results=/workspace/capstone/data/nnunet/nnUNet_results
commands:
  - uv pip install nnunetv2
  - nnUNetv2_predict -i /workspace/capstone/data/nnunet/nnUNet_raw/Dataset501_NSCLC_Lung1/imagesTs -o /workspace/capstone/data/nnunet/predsTs -d 501 -c ${CFG} -f 0 -device cuda -chk checkpoint_best.pth


